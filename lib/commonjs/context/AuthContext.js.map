{"version":3,"names":["_react","_interopRequireDefault","require","_general","e","__esModule","default","AuthContext","React","createContext","undefined","SapientAuthProvider","children","baseUrl","apiKey","organisationMetadata","_user$roles","user","setUser","useState","accessToken","setAccessToken","refreshToken","setRefreshToken","isSuperAdmin","roles","includes","Number","role","isAdmin","setTokensInternal","at","rt","apiRequest","endpoint","options","isMultipart","url","headers","Date","now","toString","generateNonce","finalHeaders","config","console","log","method","response","fetch","text","data","JSON","parse","message","ok","_data","_data2","msg","error","status","Error","login","email","pass","body","stringify","password","register","firstName","lastName","logout","Authorization","warn","extractUserFromResponse","responseData","_responseData$data","u","id","_id","tenantId","createElement","Provider","value","setTokens","companyName","companyMotto","companyLogo","madeBy","exports","useSapientAuth","context","useContext"],"sourceRoot":"../../../src","sources":["context/AuthContext.tsx"],"mappings":"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","ignoreList":[]}